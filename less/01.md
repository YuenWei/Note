## less

### **编译**

开发工具：vs code

安装插件：Easy Less

配置插件环境：Easy Less/setting/settings.json

```json
"less.compile": {
      "compress": false,//是否压缩
      "sourceMap": false,//是否生成map文件，有了这个可以在调试台看到less行数
      "out": true, // 是否输出css文件，false为不输出
      "outExt": ".css", // 输出文件的后缀,小程序可以写'wxss'
    }
```



### 注释

> 以 // 开头的注释，**不会**被编译到css文件中
>
> 以 /**/  包裹的注释会被编译到css文件中



### 变量

> 块级作用域
>
> 变量会延迟加载

**属性变量**

```less
// 变量以@开头
@bgcolor:#f2f2f2;
```



**选择器变量**

```less
@nav:.nav;

.wrap{max-width:1200px;color:@colorFont;
  @{nav}{
    height:60px;background:@colorMain;color:@colorLightFont;
  }
}
```





### 嵌套

模仿了 HTML 的组织结构

```html
<div class="wrap">
  <div class="nav">Top</div>
  <div class="main">main</div>
  <div class="footer">footer</div>
</div>
```

```less
.wrap{max-width:1200px;color:@colorFont;
  .nav{}
  .main{}
  .footer{}
}
```

###  @规则嵌套和冒泡

```less
.wrap{max-width:1200px;color:@colorFont;
  .nav{
    &:hover{}  // &表示平级，去掉空格
  }
  .main{}
  .footer{}
}
```



###  混合

##### 拼图混合

将一组属性从一个规则集包含（或混入）到另一个规则集

```html
<div class="main">
  <div class="con">con1</div>
  <div class="con2">con2</div>
</div>
```

定义了一个类（class）如下：

```less
.con{width:300px;height:100px;background:@colorBg;}
```

在其它规则集中使用这些属性，只需像下面这样输入所需属性的类（class）名称即可。

```less
.con2{.con;font-size:18px;}
```



##### ()不带输出的混合

**编译后不输出.con**

```less
.con(){width:300px;height:100px;background:@colorBg;color:@colorMain}
.con2{.con;font-size:18px;}
```



##### 带参数的混合

用带参数的混入 让 .con .con-item 和 .con2 .con2-item 都垂直水平居中

```html
<div class="main">
  <div class="con">
    <div class="con-item">con居中</div>
  </div>
  <div class="con2">
    <div class="con2-item">con2居中</div>
  </div>
</div>
```

```less
// 水平垂直居中
.center(@w,@h,@bgColor){width:@w;height:@h;background:@bgColor;position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;}

.con{width:300px;height:300px;float:left;margin:10px;background:@colorFont;color:@colorMain;position:relative; 
	//  带参数的混合
  .con-item{.center(200px, 200px, rgba(214, 79, 0.85))}
}
.con2{.con;font-size:18px;
  .con2-item{.center(150px, 50px, #f00)}
}
```



##### 带参数且有默认值的混合

```less
// 带默认值参数的混合
.center(@w:100px,@h:100px,@bgColor:pink){width:@w;height:@h;background:@bgColor;position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;}
```

```less
.con3{
	.con;
	.con3-item{.center()}  // 带默认值参数的混合
}
```



##### 带多个参数的混合





##### 命名参数



##### 匹配模式



##### arguments变量



### less运算



### less避免编译