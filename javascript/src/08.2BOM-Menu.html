<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body{color:#2B3E51;}
    a{text-decoration:none;}
    .nav{width:150px;display:inline-block;background:#f2f2f2;border-radius:3px;overflow: hidden;}
    .nav-item{width:100%;float:left;}
    .nav-item span,.nav-item a{display:inline-block;width:calc(100% - 20px);padding:2px 10px;}
    .nav-item span{background:#098AFF;color:#fff;}
    .nav-item a{color:inherit;font-size:14px;display:none;}
    .nav-item a:hover{color:#098AFF;}
    .slideDown a{display:block;}
  </style>
  <script src="./tools.js"></script>
  <script>
    window.onload = function(){
      // 绑定单击事件
      var spanList = document.querySelectorAll(".nav-span");
      // 定义变量保存打开的菜单
      var openDiv;
      // 为以及菜单span绑定点击响应函数
      for(var i=0; i<spanList.length; i++){
        spanList[i].onclick = function(){
          // 获取当前span的父元素
          var parentDiv = this.parentNode;

          // 切换前高度
          var starHeight = parentDiv.offsetHeight;
          console.log(starHeight);

          toggleClass(parentDiv, "slideDown");
          
          // 切换后高度
          var endHeight = parentDiv.offsetHeight;
          console.log(endHeight);

          // 将切换后的高度设置为开始大小
          parentDiv.style.height = starHeight + "Px";
          // 调用move函数
          move(parentDiv, "height", 20, endHeight, function(){
            //删除动画执行完后的内连样式
            parentDiv.style.height = "";
          });
          

          // 判断openDiv是否是同一个菜单
          // 打开当前的菜单，需关闭之前打开的菜单
          
          
          // 修改openDiv 为打开的菜单
          openDiv = parentDiv;
          console.log(openDiv);
        }
      }

    }
  </script>
</head>
<body>
  <div class="nav">
    <div class="nav-item"> <!-- slideDown展开 -->
      <span class="nav-span">Apple</span>
      <a href="#">Mac</a>
      <a href="#">iPhone</a>
      <a href="#">iPad</a>
      <a href="#">Watch</a>
      <a href="#">Music</a>
    </div>
    <div class="nav-item">
      <span class="nav-span">Google</span>
      <a href="#">Google Search</a>
      <a href="#">YouTube</a>
      <a href="#">Chrome</a>
      <a href="#">Android</a>
    </div>
    <div class="nav-item">
      <span class="nav-span">Adobe</span>
      <a href="#">Photoshop</a>
      <a href="#">illusrator</a>
      <a href="#">Dreamweave</a>
      <a href="#">Acrobat</a>
    </div>
  </div>
</body>
</html>